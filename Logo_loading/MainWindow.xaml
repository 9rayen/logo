<Window x:Class="Logo_loading.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Logo_loading"
        mc:Ignorable="d"
        Title="Custom Logo Loading" Height="500" Width="900"
        WindowStartupLocation="CenterScreen"
        Background="#F5F5F5"
        KeyDown="MainWindow_KeyDown">
    
    <Window.Resources>
        <!-- Storyboard for animating the "L" letter fading effect -->
        <Storyboard x:Key="LFadingAnimation" RepeatBehavior="Forever">
            <ColorAnimation Storyboard.TargetName="AnimatedL"
                          Storyboard.TargetProperty="(Run.Foreground).(SolidColorBrush.Color)"
                          From="#FF606060" To="#FFB0B0B0" Duration="0:0:1.5"
                          AutoReverse="True"/>
        </Storyboard>

        <!-- Storyboard for animating the loading dots -->
        <Storyboard x:Key="LoadingDotsAnimation" RepeatBehavior="Forever">
            <!-- First dot -->
            <DoubleAnimation Storyboard.TargetName="Dot1"
                           Storyboard.TargetProperty="Opacity"
                           From="0" To="1" Duration="0:0:0.5"
                           BeginTime="0:0:0"/>
            <DoubleAnimation Storyboard.TargetName="Dot1"
                           Storyboard.TargetProperty="Opacity"
                           From="1" To="0" Duration="0:0:0.5"
                           BeginTime="0:0:1.5"/>
            
            <!-- Second dot -->
            <DoubleAnimation Storyboard.TargetName="Dot2"
                           Storyboard.TargetProperty="Opacity"
                           From="0" To="1" Duration="0:0:0.5"
                           BeginTime="0:0:0.5"/>
            <DoubleAnimation Storyboard.TargetName="Dot2"
                           Storyboard.TargetProperty="Opacity"
                           From="1" To="0" Duration="0:0:0.5"
                           BeginTime="0:0:2"/>
            
            <!-- Third dot -->
            <DoubleAnimation Storyboard.TargetName="Dot3"
                           Storyboard.TargetProperty="Opacity"
                           From="0" To="1" Duration="0:0:0.5"
                           BeginTime="0:0:1"/>
            <DoubleAnimation Storyboard.TargetName="Dot3"
                           Storyboard.TargetProperty="Opacity"
                           From="1" To="0" Duration="0:0:0.5"
                           BeginTime="0:0:2.5"/>
        </Storyboard>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Main logo container -->
        <Canvas x:Name="LogoCanvas" 
                Grid.Row="0"
                Style="{StaticResource LogoContainerStyle}"
                Width="700" Height="250">

            <Path x:Name="WaveformPath"
                  Style="{StaticResource WaveformStyle}"
                  Canvas.Left="0" Canvas.Top="150">
                <Path.Data>
                    <PathGeometry>
                        <PathFigure StartPoint="0,0" IsClosed="False">

                            <!-- Straight start -->
                            <LineSegment Point="280,0" />

                            <!-- Wave 1 - amplitude ~30 -->
                            <BezierSegment Point1="295,30" Point2="305,-30" Point3="320,0"/>
                            <!-- Wave 2 - amplitude ~60 -->
                            <BezierSegment Point1="335,60" Point2="345,-60" Point3="360,0"/>

                            <!-- Wave 3 - amplitude ~90 -->
                            <BezierSegment Point1="375,90" Point2="385,-90" Point3="400,0"/>
                            <!-- Wave 4 - amplitude ~120 -->
                            <BezierSegment Point1="415,130" Point2="425,-130" Point3="440,0"/>

                            <!-- Final straight line -->
                            <LineSegment Point="700,0"/>
                        </PathFigure>
                    </PathGeometry>
                </Path.Data>
            </Path>

            <!-- Loading Panel Text positioned next to the last wave and above the straight line -->
            <StackPanel Canvas.Left="450" Canvas.Top="115" Orientation="Horizontal">
                <!-- Main text with animated L -->
                <TextBlock Style="{StaticResource LoadingTextStyle}">
                    <Run x:Name="AnimatedL" 
                         Style="{StaticResource AnimatedLStyle}">L</Run><Run>oading Panel</Run>
                </TextBlock>
                
                <!-- Animated dots as separate TextBlocks -->
                <TextBlock x:Name="Dot1" Text="." 
                           FontFamily="Segoe UI" FontSize="24" FontWeight="Bold" 
                           Foreground="#333333" Opacity="0" Margin="2,0,0,0"/>
                <TextBlock x:Name="Dot2" Text="." 
                           FontFamily="Segoe UI" FontSize="24" FontWeight="Bold" 
                           Foreground="#333333" Opacity="0" Margin="0,0,0,0"/>
                <TextBlock x:Name="Dot3" Text="." 
                           FontFamily="Segoe UI" FontSize="24" FontWeight="Bold" 
                           Foreground="#333333" Opacity="0" Margin="0,0,0,0"/>
            </StackPanel>
        </Canvas>

        <!-- Status bar -->
        <TextBlock x:Name="StatusText" Grid.Row="1" 
                   Text="{Binding StatusMessage}" 
                   FontSize="12" Foreground="Gray" 
                   Margin="10,5" HorizontalAlignment="Left"/>
        
        <!-- Instructions -->
        <TextBlock Grid.Row="1" 
                   Text="Press SPACE to restart animations, ESC to stop" 
                   FontSize="12" Foreground="Gray" 
                   Margin="10,5" HorizontalAlignment="Right"/>
    </Grid>
</Window>
