<Window x:Class="Logo_loading.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Logo_loading"
        mc:Ignorable="d"
        Title="Custom Logo Loading" Height="500" Width="900"
        WindowStartupLocation="CenterScreen"
        Background="black">

    <Window.Resources>
        <!-- Dots and wave storyboards come from here; letter fade will be built dynamically -->
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/Animations/AnimationStoryboards.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="63*"/>
            <ColumnDefinition Width="34*"/>
            <ColumnDefinition Width="42*"/>
            <ColumnDefinition Width="761*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Main logo container -->
        <Canvas x:Name="LogoCanvas"
                Background="Transparent"
                HorizontalAlignment="Left"
                VerticalAlignment="Center"
                Width="700" Height="250" Grid.Column="2" Margin="3,0,0,0" Grid.ColumnSpan="2">

            <!-- Animated Waveform Path -->
            <Path x:Name="WaveformPath"
                  Canvas.Left="0" Canvas.Top="150"
                  StrokeThickness="7"
                  Fill="Transparent"
                  StrokeLineJoin="Round"
                  StrokeStartLineCap="Round"
                  StrokeEndLineCap="Round"
                  SnapsToDevicePixels="True">
                <Path.Stroke>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                        <!-- Simple blue line base -->
                        <GradientStop x:Name="BaseStart" Color="#2a3aa0" Offset="0"/>

                        <!-- Moving pulse wave enhances the base color -->
                        <GradientStop x:Name="PulseStart" Color="#3941d4" Offset="-0.3"/>
                        <GradientStop x:Name="PulseLeading" Color="#00bfff" Offset="-0.25"/>
                        <GradientStop x:Name="PulseCenter" Color="#87ceeb" Offset="-0.2"/>
                        <GradientStop x:Name="PulseTrailing" Color="#00bfff" Offset="-0.15"/>
                        <GradientStop x:Name="PulseEnd" Color="#3941d4" Offset="-0.1"/>

                        <!-- Simple blue line base continues -->
                        <GradientStop x:Name="BaseEnd" Color="#7a25cf" Offset="1"/>
                    </LinearGradientBrush>
                </Path.Stroke>

                <!-- Opacity mask to fade the line at the very start and end -->
                <Path.OpacityMask>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                        <!-- Transparent at very start -->
                        <GradientStop Color="#00FFFFFF" Offset="0"/>
                        <!-- Fully opaque shortly after start -->
                        <GradientStop Color="#FFFFFFFF" Offset="0.05"/>
                        <!-- Fully opaque until near the end -->
                        <GradientStop Color="#FFFFFFFF" Offset="0.95"/>
                        <!-- Transparent at very end -->
                        <GradientStop Color="#00FFFFFF" Offset="1"/>
                    </LinearGradientBrush>
                </Path.OpacityMask>

                <Path.Data>
                    <PathGeometry>
                        <PathFigure StartPoint="0,0" IsClosed="False">
                            <!-- Straight start -->
                            <LineSegment Point="280,0" />
                            <!-- Wave sequence with increasing amplitude -->
                            <BezierSegment Point1="295,30" Point2="305,-30" Point3="320,0"/>
                            <BezierSegment Point1="335,60" Point2="345,-60" Point3="360,0"/>
                            <BezierSegment Point1="375,90" Point2="385,-90" Point3="400,0"/>
                            <BezierSegment Point1="415,130" Point2="425,-130" Point3="440,0"/>
                            <!-- Final straight line -->
                            <LineSegment Point="700,0"/>
                        </PathFigure>
                    </PathGeometry>
                </Path.Data>
            </Path>

            <!-- Loading Text: data-driven letters + separate animated dots -->
            <StackPanel Canvas.Left="450" Canvas.Top="115" Orientation="Horizontal">
                <!-- Auto-generates one TextBlock per character -->
                <ItemsControl x:Name="LettersRepeater">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <StackPanel Orientation="Horizontal"/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <TextBlock x:Name="LetterText"
                                       Text="{Binding}"
                                       FontFamily="Segoe UI"
                                       FontSize="24"
                                       FontWeight="Bold"
                                       Foreground="#333333"
                                       Opacity="1.0"/>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>

                <!-- Animated loading dots (kept; storyboards target these names) -->
                <TextBlock x:Name="Dot1" Text="." FontFamily="Segoe UI" FontSize="24" FontWeight="Bold" Foreground="#333333" Opacity="0" Margin="2,0,0,0"/>
                <TextBlock x:Name="Dot2" Text="." FontFamily="Segoe UI" FontSize="24" FontWeight="Bold" Foreground="#333333" Opacity="0"/>
                <TextBlock x:Name="Dot3" Text="." FontFamily="Segoe UI" FontSize="24" FontWeight="Bold" Foreground="#333333" Opacity="0"/>
            </StackPanel>
        </Canvas>
    </Grid>
</Window>